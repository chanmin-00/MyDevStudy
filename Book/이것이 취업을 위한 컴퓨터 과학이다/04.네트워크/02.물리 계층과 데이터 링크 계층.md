# 이더넷

이더넷은 통신 매체를 통해 신호를 송수신하는 방법과 데이터 링크 계층에서 사용하는 프레임 형식 등을 정의한 기술로, 현재 대부분의 유선 LAN은 이더넷 기반으로 구현되어 있다.

## 이더넷 표준

- IEEE 802.3이라는 이름으로 국제 표준화되어 있으며, 이더넷과 관련된 다양한 세부 규격의 집합이다.
- 오늘날 대부분의 유선 LAN 장비는 이 표준을 따른다.
- 표준에 따라 통신 매체의 종류, 신호 송수신 방식, 최대 지원 속도 등이 달라질 수 있으며, 최신 표준일수록 일반적으로 더 높은 속도를 지원한다.
    
    ![image](https://github.com/user-attachments/assets/916d169e-7367-4eb0-a534-55955d493e77)

    

## 이더넷 프레임

이더넷 기반 네트워크에서 주고받는 데이터 단위를 이더넷 프레임이라 하며, 일반적으로 ‘프레임’이라 부르면 이더넷 프레임을 의미한다.

![image](https://github.com/user-attachments/assets/aa169f8d-181a-4422-81c1-39c278f63743)


### 프리앰블

- 8바이트(64비트)의 비트열로 구성
- 첫 7바이트는 `10101010`, 마지막 1바이트는 `10101011`로 설정되어 송수신 동기화 역할을 한다.
- 수신지 입장에서는 프리앰블 비트를 통해 현재의 이더넷 프레임이 수신되고 있다는 사실을 알아채린다.

### 송수신지 MAC 주소

- 송신자와 수신자의 MAC 주소가 각각 6바이트(48비트)로 명시
- 네트워크 인터페이스(NIC)에 고유하게 부여되는 물리적 주소로, `ab:cd:ab:cd:00:01` 형태로 표기된다.

### 타입/길이

- 값이 1500(0x05DC)이하이면 프레임 길이, 1536(0x0600)이상이면 상위 계층 프로토콜의 타입을 의미
- 예: IP → `0x0800`, ARP → `0x0806`

### 데이터

- 상위 계층 데이터(페이로드)가 들어가는 필드
- 일반적으로 최대 1500바이트 이하로 제한 (MTU, Maximum Transmission Unit)
    - 흔히 1500바이트는 이더넷 프레임으로 전송 가능한 최대 데이터의 크기이자, 네트워크 계층 패킷(헤더 + 페이로드)의 최대 크기를 지칭. 이 크기를 MTU라고 부른다.
- 더 큰 데이터를 보낼 경우 여러 패킷으로 분할하거나 점보 프레임(더 큰 데이터를 포함할 수 있는 특별한 프레임) 사용

### FCS(Frame Check Sequence)

- 트레일러 영역에 위치
- CRC(Cyclic Redundancy Check)를 사용하여 오류 검출
- 송신 측에서 계산한 CRC와 수신 측에서 계산한 CRC를 비교하여 오류 여부 판단

# 유무선 통신 매체

## 유선 매체 - 트위스티드 페어 케이블

- 구리선 두 가닥이 꼬여 있는 구조로, 전기적 신호로 데이터를 주고받는다.
    
    ![image](https://github.com/user-attachments/assets/9c4f13bb-1616-4899-83a6-80b73d3859c6)

    
- 성능은 Cat5, Cat6, Cat7 등 카테고리(Cat)로 구분되며, 이더넷 표준 및 최대 속도와 연관된다.
    
    ![image](https://github.com/user-attachments/assets/0344b665-267a-4ca4-a01f-2bc9e66b165d)

    
- 외부 노이즈(잡음)에 민감하기 때문에 차폐 방식에 따라 다음과 같이 나뉜다
    - `UTP (Unshielded Twisted Pair)`: 차폐 없음
    - `STP (Shielded Twisted Pair)`: 브레이드 실드 적용
    - `FTP (Foiled Twisted Pair)`: 포일 실드 적용
    
    > 구리선 주변을 보호해 노이즈를 감소시키는 방식을 차폐라고 한다. 차폐에 사용된 그물 모양의 철사와 포일은 각각 브레이브 실드와 포일 실드라고 한다.
    > 

## 무선매체 - 전파와 WiFi

- 전파: 3kHz ~ 3THz 범위의 전자기파
- Wi-Fi: IEEE 802.11 표준을 따르는 무선 LAN 기술을 말한다.
    - `802.11a/b/g/n/ac/ax` 등 다양한 규격 존재
    - 일반적으로 2.4GHz와 5GHz 주파수 대역 사용하며, 와이파이 뒤에 붙는 숫자로 세대를 구분한다.
        
        ![image](https://github.com/user-attachments/assets/00a0d94d-d75c-4361-b606-c3e7198d5629)

        
- 채널: 주파수 대역 간 간섭 방지를 위해 하위 주파수 대역으로 세분화
    - 각 채널은 번호가 할당되며, 일반적으로 채널은 자동 설정되지만 수동 설정도 가능
        
        ![image](https://github.com/user-attachments/assets/2e09a4a0-7531-40b9-905c-31a1c0279592)

        

### AP와 SSID

- AP (Access Point): 여러 무선 통신기기를 연결해 무선 네트워크를 구성하는 장비로서 대표적으로 무선 공유기
- SSID (Service Set Identifier): 무선 네트워크를 구분하는 식별자
    - 일반적으로 사용자가 보는 Wi-Fi 이름
    - 서비스 셋은 AP를 중심으로 구성된 무선 네트워크를 의미한다.

## 네트워크 인터페이스 : NIC

- `NIC(Network Interface Card)`는 노드(호스트)와 통신 매체를 연결하는 지점. 네트워크 인터페이스마다 MAC 주소가 부여되고, NIC라는 하드웨어가 네트워크 인터페이스의 역할을 담당하는 것이 일반적
    - 네트워크 어댑터, LAN 카드, 네트워크 카드, 이더넷 카드 등으로 불림
- NIC는 프레임과 전기/전파 신호 간의 변환 역할 수행
- MAC 주소를 기반으로 올바른 통신 여부 확인
- 시스템 콜을 통해 NIC가 작동되며, 커널 모드 전환 후 송수신이 완료되면 인터럽트로 CPU에 알림
- 기본은 메인보드에 내장된 NIC이지만, 고속 네트워크 처리를 위해 고급 NIC 추가 장착 가능

### 티밍과 본딩

- 여러 NIC를 하나의 고속 NIC 처럼 사용하는 기술
- 성능 향상 및 이중화(장애 대응) 목적
- 하나의 NIC가 장애를 일으켜도 나머지 NIC를 통해 통신 가능

## 허브와 스위치

물리 계층와 데이터 링크 계층의 중간 노드이다. 요즘은 허브 대신 스위치를 사용하는 경우가 많다.

### 물리 계층의 허브

- 여러 호스트를 연결하는 장치로, 신호를 모든 포트로 단순 전송한다.
    
    ![image](https://github.com/user-attachments/assets/9a33ba85-c1d7-4d63-b563-cc9858c68008)

    
- 리피터 허브, 이더넷 허브로 불림
- 포트: 케이블을 연결하는 물리적 단자. 케이블의 커넥처가 꽃히는 부분이다.
    
    ![image](https://github.com/user-attachments/assets/072e0349-73fe-4241-acd6-c3cc6046213c)

    
- 반이중(half-duplex) 통신만 지원 → 동시 송수신 불가
    - 반이중 모드로 송수신하는 것으로서, 동시 송수신이 불가능한 상태이다. 어느 한 쪽이 송신할 때 다른 쪽은 송신이 불가능하다.
    - 반대되는 개념으로 전이중 통신이 존재한다.  동시 송수신이 가능한 형태로 데이터 링크 계층의 스위치는 전이중 모드를 지원한다.
- 허브에 연결된 모든 장치가 하나의 충돌 도메인을 공유

### cf) 충돌과 충돌 도메인

- `충돌:` 동시에 신호를 보내면 충돌 발생
- `충돌 도메인`: 충돌이 발생할 수 있는 영역
    - 허브에 연결된 모든 장치가 동일한 충돌 도메인
    - 허브는 전달받은 신호를 모든 포트로 내보내는 동시에 반이중 모드로 통신하므로 허브에서 충돌이 발생할 수 있는 영역은 허브에 연결된 모든 호스트가 된다.
        
        ![image](https://github.com/user-attachments/assets/46445c2b-3b8d-4cb1-9783-9612995713e7)

        

### 데이터 링크 계층의 스위치

- 허브의 한계를 보완하기 위한 네트워크 장비
- 전달받은 신호를 목적지 호스트가 연결된 포트로만 내보낸다
- 전이중 모드를 지원하여 허브와 비교해 `충돌 도메인(Collision Domain)`이 좁다
- 데이터 링크 계층(2계층)에서 사용되므로 L2 스위치라고도 한다.
- MAC 주소 학습 기능 보유
    - 스위치는 데이터 링크 계층의 장비로서 MAC 주소를 이해할 수 있다.
    - 각 포트에 어떤 MAC 주소의 호스트가 연결되었는지 파악 가능하다.
    - 포트와 연결된 MAC 주소 정보를 테이블 형태로 메모리에 저장 (→ MAC 주소 테이블)
    - 해당 테이블을 참조해 신호를 정확한 포트로만 전송한다.

### VLAN

- 가상의 LAN을 의미
- 같은 스위치에 연결된 모든 호스트를 하나의 네트워크로 간주하지 않도록 설정 가능하다.
- 여러 논리적인 네트워크로 나누고 싶을 때 사용
- VLAN 간에는 브로드캐스트 도메인도 겹치지 않는다.
- 서로 다른 VLAN이 통신하려면 네트워크 계층 이상의 장비가 필요

![image](https://github.com/user-attachments/assets/3bfcca32-2362-459c-bd0f-1eae32b98c47)
