# Amazon Route 53: AWS 의 DNS 서비스

## Amazon Route 53란

- Amazon Route 53은 AWS에서 제공하는 DNS(Domain Name System) 서비스이다.
    
    > DNS는 우리가 입력한 도메인 주소(URL)를 실제 IP 주소로 변환해주는 시스템이며, 이 과정을 이름 풀이(name resolution)라고 한다.
    > 
- Route 53은 도메인을 EC2, S3 등 실제 AWS 리소스와 연결해주고, 도메인 이름 등록도 지원한다.

### 주요 기능

- `트래픽 분산`: 하나의 엔드포인트에 트래픽이 집중되지 않도록 분산 처리
- `장애 대응`: 특정 서버에 장애가 생기면 자동으로 다른 서버로 전환 (페일오버)
- `라우팅 유연성`: 다양한 조건 기반 라우팅 지원 (예: 지연 시간, 지리적 위치 등)

## Amazon Route 53 의 용어

- `Resolver` : 도메인과 IP 주소를 서로 변환해주는 역할 (Route 53의 핵심 기능)
- `라운드로빈`: 여러 IP를 순서대로 반환해 트래픽을 분산
- `트래픽 흐름`: 서버 상태, 위치, 지연 시간 등에 따라 가장 적합한 IP를 선택
- `호스트 영역(Hosted Zone)`: 하나의 도메인 또는 서브도메인 단위의 DNS 설정 범위
- `레코드(Record)`: 도메인과 IP 간 매핑 정보를 담은 단위
- `쿼리(Query)`: DNS 요청 자체를 의미함

### 참고

- `레지스트리`: 도메인 정보를 저장,관리하는 기관
- `레지스트라`: 레지스트리에 도메인 등록을 대행해주는 업체 (예: 후이즈 등)

# AWS Lambda: 서버리스 서비스이며 이벤트를 자동으로 실행한다

## AWS Lambda란?

- `AWS Lambda`는 이벤트 기반으로 자동 실행되는 서버리스 컴퓨팅 서비스이다.
- S3와의 조합이 특히 주목받고 있으며, 앞으로 활용도가 높을 서비스이다.
    - 대표적인 예시: S3에 이미지 업로드 시 자동으로 썸네일 생성 등
- 사용자는 서버를 직접 구축하거나 관리할 필요 없이, 데이터나 요청 발생 시 Lambda가 자동으로 실행된다.
- 프로그램 실행 시에만 과금되며, 자바, C, 파이썬, 루비, Node.js, Go 등 여러 언어를 지원한다.

<img width="631" alt="image" src="https://github.com/user-attachments/assets/588d2236-e179-41a7-91af-858436671111" />


## Lambda의 용어

- `Lambda 함수`: 사용자가 작성하여 Lambda에 업로드한 코드
- `이벤트 구동`: S3, DynamoDB, SES 등 AWS 서비스에 변화가 생기면 Lambda가 자동 실행
- `CGI를 대신`: API Gateway와 함께 사용해 웹 CGI처럼 동작 가능

## 이벤트 소스 목록

AWS Lambda는 세 가지 방식으로 호출될 수 있으며, 호출하는 서비스의 유형에 따라 이벤트 기반 / 동기 / 비동기 호출로 나뉜다.

### 이벤트를 읽는 서비스

Lambda가 지속적으로 이벤트 데이터를 읽어 반응하는 구조이다.

- Amazon Kinesis: 실시간 스트리밍 데이터 처리
- Amazon DynamoDB: 테이블 변경 이벤트 감지
- Amazon SQS: 큐에 쌓인 메시지를 읽어 처리

### 동기적 호출 서비스

함수를 호출한 서비스가 Lambda 함수 실행 결과가 반환될 때까지 대기한다. 즉시 응답이 필요한 작업에 사용된다.

- ELB / ALB: HTTP 요청을 Lambda에 전달해 처리
- Amazon Cognito: 사용자 인증 시 Lambda 호출
- Amazon Lex / Alexa: 음성 기반 요청 처리

### 비동기적 호출 서비스

Lambda 호출 후 결과를 기다리지 않고 즉시 다음 작업으로 진행한다. 이벤트 기반 자동 처리에 적합하며, 재시도 설정 가능하다.

- Amazon S3: 객체 업로드 등 이벤트 발생 시 Lambda 호출 (예: 이미지 업로드 시 썸네일 생성)
- Amazon SNS / SES: 알림이나 이메일 수신 시 자동 실행

## Lambda 요금

- 요금은 단가 × 실행 시간(초) 기준으로 부과된다. 코드 실행이 짧고 간헐적일수록 비용 효율성이 높다.

# AWS 컨테이너 서비스 : 애플리케이션 단위로 실행할 수 있는 가상 환경

## AWS 컨테이너 서비스란?

- 컨테이너는 애플리케이션 실행 환경을 분리하는 방식이다.
- 기존 가상 서버(VirtualBox, VMware)는 OS 전체를 가상화하지만, 컨테이너는 앱과 그 필요한 라이브러리만 분리해 실행하므로 가볍고 관리가 쉽다.
- `도커(Docker)`는 가장 널리 쓰이는 컨테이너 형식이며, AWS에서도 이를 지원한다.

### 컨테이너 서비스 구성 요소

- 레지스트리 서비스: 컨테이너 이미지를 저장·배포 (예: `Amazon ECR`)
- 오케스트레이션 서비스: 컨테이너 실행과 조정 (예: `Amazon ECS`, `Amazon EKS`)

## 컨테이너 서비스 용어

- 컨테이너: 프로그램 전체를 격리된 환경에서 실행하는 단위
- 도커 이미지: 컨테이너 실행에 필요한 코드, 설정, 라이브러리 등을 포함
- 도커 허브: 도커 이미지를 등록하는 공개 서비스 (AWS는 자체적으로 ECR 사용)
- Amazon ECS: 도커 이미지로 EC2나 AWS Fargate에서 컨테이너 실행
- 쿠버네티스: 컨테이너를 종합적으로 관리하는 오픈소스 오케스트레이션 시스템
- Amazon EKS: AWS가 제공하는 쿠버네티스 호환 서비스
- AWS Fargate: 컨테이너 실행을 위한 EC2 인프라를 자동으로 관리해주는 방식

## AWS Fargate의 방식

AWS Fargate는 사용자가 EC2 인스턴스를 직접 관리하지 않아도, 필요 시 EC2를 자동으로 기동하고, 그 안에 컨테이너를 할당 및 실행해준다.

<img width="612" alt="image" src="https://github.com/user-attachments/assets/a0f52350-ddd4-4cc3-9873-f513f310188a" />


## 컨테이너 서비스 요금

- EC2 시작 유형: EC2 인스턴스 비용만 발생
- Fargate 시작 유형: 아래 항목들을 기준으로 과금됨
    1. CPU 사용 단가 × 가동 시간(분) × 컨테이너 수
    2. 메모리 단가 × 가동 시간(분)
    3. 데이터 전송 요금
