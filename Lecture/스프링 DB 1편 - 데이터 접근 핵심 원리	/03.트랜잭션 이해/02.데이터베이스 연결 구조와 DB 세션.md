# 데이터베이스 연결 구조 1

![image](https://github.com/user-attachments/assets/f6b47b76-e2ba-4733-9b56-ed106b877e05)



사용자는 웹 애플리케이션 서버(WAS)나 DB 접근 툴 같은 클라이언트를 통해 데이터베이스 서버에 접근할 수 있다.

이때 클라이언트가 데이터베이스 서버에 연결을 요청하면, DB 서버는 커넥션을 수락하고 내부적으로 `세션(Session)` 을 생성한다.

- 이 커넥션을 통해 전달되는 모든 SQL 요청은 해당 세션을 통해 실행된다.
- 예를 들어 개발자가 클라이언트에서 SQL을 보내면, 이는 현재 커넥션에 연결된 세션이 실제로 SQL을 수행한다.
- 세션은 트랜잭션을 시작하고, 커밋 또는 롤백으로 종료한다.
- 이후에는 다시 새로운 트랜잭션을 시작할 수 있다.

즉, 세션은 트랜잭션의 실행 단위가 된다.

- 사용자가 커넥션을 닫거나, DBA(DB 관리자)가 세션을 강제로 종료하면 해당 세션도 종료된다.

# 데이터베이스 연결 구조 2

![image](https://github.com/user-attachments/assets/2fb536f9-2fc8-48da-bce1-538e8d866330)


커넥션 풀이 10개의 커넥션을 생성하면, 데이터베이스 서버에는 이에 대응되는 10개의 세션이 함께 생성된다.

각 커넥션은 고유한 세션과 연결되어 있으며, 각 세션은 독립적으로 트랜잭션을 수행한다.
